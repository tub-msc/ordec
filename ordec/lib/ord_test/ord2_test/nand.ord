# -*- version: ord2 -*-
from ordec.core import *
from ordec.schematic import helpers
from ordec.lib.generic_mos import Nmos,Pmos
from ordec.ord2.context import ctx, OrdContext
from public import public

cell Nand:
    cell_func symbol:
        output y(.align=Orientation.East)
        input a(.align=Orientation.West)
        input b(.align=Orientation.West)
        inout vdd(.align=Orientation.North)
        inout vss(.align=Orientation.South)

    cell_func schematic:
        port y(.align=Orientation.West; .pos=(25,6))
        port a(.align=Orientation.East; .pos=(1,4))
        port b(.align=Orientation.East; .pos=(1,17))
        port vdd(.align=Orientation.East; .pos=(1,23))
        port vss(.align=Orientation.East; .pos=(1,1))

        net net_conn

        Nmos n1(.pos=(10,2); .d -- net_conn; .s -- vss.ref; .b -- vss.ref; .g -- a.ref)
        Nmos n2(.pos=(10,10); .d -- y.ref; .s -- net_conn; .b -- vss.ref; .g -- b.ref)
        Pmos p1(.pos=(5,18); .d -- y.ref; .s -- vdd.ref; .b -- vdd.ref; .g -- a.ref)
        Pmos p2(.pos=(15,18); .d -- y.ref; .s -- vdd.ref; .b -- vdd.ref; .g -- b.ref)

